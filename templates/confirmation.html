{% extends "base.html" %}

{% block title %}Request Confirmed - Service Request Portal{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Request Submitted Successfully!</h4>
            <p>Your service request has been received. A service provider will contact you shortly.</p>
        </div>
        
        <div class="row">
            <div class="col-md-6">
                <div class="card shadow mb-4">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">Your Request Details</h3>
                    </div>
                    <div class="card-body">
                        <table class="table table-borderless">
                            <tr>
                                <th>Request ID:</th>
                                <td>#{{ request.id }}</td>
                            </tr>
                            <tr>
                                <th>Service:</th>
                                <td>{{ request.service.name }}</td>
                            </tr>
                            <tr>
                                <th>Name:</th>
                                <td>{{ request.customer_name }}</td>
                            </tr>
                            <tr>
                                <th>Email:</th>
                                <td>{{ request.customer_email }}</td>
                            </tr>
                            <tr>
                                <th>Phone:</th>
                                <td>{{ request.customer_phone }}</td>
                            </tr>
                            <tr>
                                <th>Address:</th>
                                <td>{{ request.address }}</td>
                            </tr>
                            <tr>
                                <th>Urgency:</th>
                                <td>{{ request.urgency }}</td>
                            </tr>
                            <tr>
                                <th>Description:</th>
                                <td>{{ request.description }}</td>
                            </tr>
                            <tr>
                                <th>Submitted:</th>
                                <td>{{ request.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">Service Provider</h3>
                    </div>
                    <div class="card-body">
                        <div class="text-center mb-3">
                            <img src="https://via.placeholder.com/150" class="rounded-circle" alt="Provider Photo">
                            <h4 class="mt-3">{{ provider.name }}</h4>
                            <div class="mb-2">
                                {% for i in range(5) %}
                                    {% if i < provider.rating|int %}
                                        <span class="text-warning">★</span>
                                    {% elif i < provider.rating and i >= provider.rating|int %}
                                        <span class="text-warning">★</span>
                                    {% else %}
                                        <span class="text-secondary">★</span>
                                    {% endif %}
                                {% endfor %}
                                <span class="ms-1">{{ provider.rating }}/5</span>
                            </div>
                        </div>
                        
                        <table class="table table-borderless">
                            <tr>
                                <th><i class="bi bi-telephone"></i> Phone:</th>
                                <td>{{ provider.phone }}</td>
                            </tr>
                            <tr>
                                <th><i class="bi bi-envelope"></i> Email:</th>
                                <td>{{ provider.email }}</td>
                            </tr>
                            <tr>
                                <th><i class="bi bi-geo-alt"></i> Address:</th>
                                <td>{{ provider.address }}</td>
                            </tr>
                        </table>
                        
                        <div class="alert alert-info" role="alert">
                            <small>The service provider will contact you within 24 hours to confirm your appointment.</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="{{ url_for('index') }}" class="btn btn-primary">Return to Home</a>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
{% endblock %} 